<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    </script>
</head>
<body>
<div style="margin: auto;width: 200px;margin-top: 100px">
    <form action="#" onsubmit="return false" th:id="form" method="post">
        <input id="username"  type="text" th:id="String"  name="username" placeholder="用户名" /><br>
        <input id="password"  type="password" th:id="String" name="password" th:value="password" placeholder="密码"/><br>
        <input type="button" value="登录" onclick="login()" style="width:150px;"/>
    </form>
</div>
<script>
    function login(){
        var username=$("#username").val();
        var password=$("#password").val();
        var user= {
            username:username,
            password:password
        }
        console.log(username+"  "+password);
        $.ajax({
            type:"POST",
            dataType:"json",
            contentType: "application/json;charset=utf-8",
            url:"http:localhost:8080/api/user/login",
            // ajax传输表单数据
            data:JSON.stringify(user),
            success: function (result){
                if (result.code==200){
                    window.location.href="../index.html";
                }else {
                    alert(result.code + "用户名或密码错误");
                }
            },
            error:function (){
                alert("FAILED!!!"+this.data);
                // window.location.href="index";
            }
        });
    }
</script>
</body>
</html>